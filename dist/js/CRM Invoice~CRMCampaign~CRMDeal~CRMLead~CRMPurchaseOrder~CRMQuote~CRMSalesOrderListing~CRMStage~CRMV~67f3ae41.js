(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["CRM Invoice~CRMCampaign~CRMDeal~CRMLead~CRMPurchaseOrder~CRMQuote~CRMSalesOrderListing~CRMStage~CRMV~67f3ae41"],{"0d3b":function(e,t,a){var n=a("d039"),i=a("b622"),r=a("c430"),o=i("iterator");e.exports=!n((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,a="";return e.pathname="c%20d",t.forEach((function(e,n){t["delete"]("b"),a+=n+e})),r&&!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[o]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==a||"x"!==new URL("http://x",void 0).host}))},"129f":function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},5352:function(e,t,a){"use strict";a("e260");var n=a("23e7"),i=a("da84"),r=a("c65b"),o=a("e330"),s=a("83ab"),l=a("0d3b"),c=a("cb2d"),d=a("6964"),u=a("d44e"),p=a("9ed3"),f=a("69f3"),m=a("19aa"),v=a("1626"),h=a("1a2d"),y=a("0366"),g=a("f5df"),b=a("825a"),w=a("861d"),_=a("577e"),D=a("7c73"),C=a("5c6c"),R=a("9a1f"),$=a("35a1"),x=a("d6d6"),S=a("b622"),k=a("addb"),I=S("iterator"),A="URLSearchParams",M=A+"Iterator",F=f.set,U=f.getterFor(A),O=f.getterFor(M),T=Object.getOwnPropertyDescriptor,E=function(e){if(!s)return i[e];var t=T(i,e);return t&&t.value},j=E("fetch"),L=E("Request"),P=E("Headers"),q=L&&L.prototype,V=P&&P.prototype,N=i.RegExp,H=i.TypeError,Y=i.decodeURIComponent,G=i.encodeURIComponent,J=o("".charAt),B=o([].join),Q=o([].push),z=o("".replace),W=o([].shift),K=o([].splice),X=o("".split),Z=o("".slice),ee=/\+/g,te=Array(4),ae=function(e){return te[e-1]||(te[e-1]=N("((?:%[\\da-f]{2}){"+e+"})","gi"))},ne=function(e){try{return Y(e)}catch(t){return e}},ie=function(e){var t=z(e,ee," "),a=4;try{return Y(t)}catch(n){while(a)t=z(t,ae(a--),ne);return t}},re=/[!'()~]|%20/g,oe={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},se=function(e){return oe[e]},le=function(e){return z(G(e),re,se)},ce=p((function(e,t){F(this,{type:M,iterator:R(U(e).entries),kind:t})}),"Iterator",(function(){var e=O(this),t=e.kind,a=e.iterator.next(),n=a.value;return a.done||(a.value="keys"===t?n.key:"values"===t?n.value:[n.key,n.value]),a}),!0),de=function(e){this.entries=[],this.url=null,void 0!==e&&(w(e)?this.parseObject(e):this.parseQuery("string"==typeof e?"?"===J(e,0)?Z(e,1):e:_(e)))};de.prototype={type:A,bindURL:function(e){this.url=e,this.update()},parseObject:function(e){var t,a,n,i,o,s,l,c=$(e);if(c){t=R(e,c),a=t.next;while(!(n=r(a,t)).done){if(i=R(b(n.value)),o=i.next,(s=r(o,i)).done||(l=r(o,i)).done||!r(o,i).done)throw H("Expected sequence with length 2");Q(this.entries,{key:_(s.value),value:_(l.value)})}}else for(var d in e)h(e,d)&&Q(this.entries,{key:d,value:_(e[d])})},parseQuery:function(e){if(e){var t,a,n=X(e,"&"),i=0;while(i<n.length)t=n[i++],t.length&&(a=X(t,"="),Q(this.entries,{key:ie(W(a)),value:ie(B(a,"="))}))}},serialize:function(){var e,t=this.entries,a=[],n=0;while(n<t.length)e=t[n++],Q(a,le(e.key)+"="+le(e.value));return B(a,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var ue=function(){m(this,pe);var e=arguments.length>0?arguments[0]:void 0;F(this,new de(e))},pe=ue.prototype;if(d(pe,{append:function(e,t){x(arguments.length,2);var a=U(this);Q(a.entries,{key:_(e),value:_(t)}),a.updateURL()},delete:function(e){x(arguments.length,1);var t=U(this),a=t.entries,n=_(e),i=0;while(i<a.length)a[i].key===n?K(a,i,1):i++;t.updateURL()},get:function(e){x(arguments.length,1);for(var t=U(this).entries,a=_(e),n=0;n<t.length;n++)if(t[n].key===a)return t[n].value;return null},getAll:function(e){x(arguments.length,1);for(var t=U(this).entries,a=_(e),n=[],i=0;i<t.length;i++)t[i].key===a&&Q(n,t[i].value);return n},has:function(e){x(arguments.length,1);var t=U(this).entries,a=_(e),n=0;while(n<t.length)if(t[n++].key===a)return!0;return!1},set:function(e,t){x(arguments.length,1);for(var a,n=U(this),i=n.entries,r=!1,o=_(e),s=_(t),l=0;l<i.length;l++)a=i[l],a.key===o&&(r?K(i,l--,1):(r=!0,a.value=s));r||Q(i,{key:o,value:s}),n.updateURL()},sort:function(){var e=U(this);k(e.entries,(function(e,t){return e.key>t.key?1:-1})),e.updateURL()},forEach:function(e){var t,a=U(this).entries,n=y(e,arguments.length>1?arguments[1]:void 0),i=0;while(i<a.length)t=a[i++],n(t.value,t.key,this)},keys:function(){return new ce(this,"keys")},values:function(){return new ce(this,"values")},entries:function(){return new ce(this,"entries")}},{enumerable:!0}),c(pe,I,pe.entries,{name:"entries"}),c(pe,"toString",(function(){return U(this).serialize()}),{enumerable:!0}),u(ue,A),n({global:!0,constructor:!0,forced:!l},{URLSearchParams:ue}),!l&&v(P)){var fe=o(V.has),me=o(V.set),ve=function(e){if(w(e)){var t,a=e.body;if(g(a)===A)return t=e.headers?new P(e.headers):new P,fe(t,"content-type")||me(t,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),D(e,{body:C(0,_(a)),headers:C(0,t)})}return e};if(v(j)&&n({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(e){return j(e,arguments.length>1?ve(arguments[1]):{})}}),v(L)){var he=function(e){return m(this,q),new L(e,arguments.length>1?ve(arguments[1]):{})};q.constructor=he,he.prototype=q,n({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:he})}}e.exports={URLSearchParams:ue,getState:U}},5530:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));a("b64b"),a("a4d3"),a("4de4"),a("d3b7"),a("e439"),a("159b"),a("dbb4");var n=a("ade3");function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function r(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){Object(n["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}},6964:function(e,t,a){var n=a("cb2d");e.exports=function(e,t,a){for(var i in t)n(e,i,t[i],a);return e}},"6c06":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"my-popups"},[a("loader",{attrs:{"is-visible":e.isLoading}}),a("div",{staticClass:"modal d-block"},[a("div",{staticClass:"modal-dialog modal-dialog-centered"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title"},[e._v(e._s(e.header))]),a("button",{staticClass:"close",attrs:{href:"javascript:;"},on:{click:function(t){return e.$emit("close")}}},[a("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),a("div",{staticClass:"modal-body"},[a("Form",{ref:"form",scopedSlots:e._u([{key:"default",fn:function(t){var n=t.valid,i=t.errors;return[a("div",{staticClass:"d-flex flex-wrap"},[a("div",{staticClass:"col-md-12 p-0"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12 col-md-6 col-lg-6 col-xl-6 float-left"},[a("div",{staticClass:"form-group"},[a("label",[e._v(" "+e._s(e.$t("Subject"))+":"),a("span",{staticClass:"text-danger"},[e._v("*")])]),a("Field",{attrs:{name:"Subject",rules:{required:!0}},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.errors;return[a("input",{directives:[{name:"model",rawName:"v-model",value:e.Subject,expression:"Subject"}],class:{"form-control":!0,"is-invalid":n[0]},attrs:{id:"Subject",name:"Subject",maxlength:"200",type:"text"},domProps:{value:e.Subject},on:{input:function(t){t.target.composing||(e.Subject=t.target.value)}}}),n[0]?a("span",{staticClass:"invalid-feedback d-block",attrs:{name:"Subject"}},[e._v(e._s(n[0]))]):e._e()]}}],null,!0)})],1)]),a("div",{staticClass:"col-sm-12 col-md-6 col-lg-6 col-xl-6 float-left"},[a("div",{staticClass:"form-group"},[a("label",[e._v(" "+e._s(e.$t("FollowUp"))+" "+e._s(e.$t("ScheduleDate"))+":"),a("span",{staticClass:"text-danger"},[e._v("*")])]),a("div",{staticClass:"input-group"},[a("Field",{attrs:{name:"due date",rules:{required:!0}},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.errors;return[a("v-date-picker",{staticClass:"input-group",attrs:{mode:"dateTime","min-date":new Date,"minute-increment":5},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.inputValue,r=t.inputEvents,o=t.togglePopover;return[a("input",e._g({class:{"form-control":!0,"is-invalid":n[0]},domProps:{value:i}},r)),a("div",{staticClass:"input-group-append",on:{click:function(e){return o()}}},[a("span",{staticClass:"input-group-text"},[a("em",{staticClass:"fa fa-calendar"})])])]}}],null,!0),model:{value:e.duedate,callback:function(t){e.duedate=t},expression:"duedate"}}),n[0]?a("span",{staticClass:"invalid-feedback d-block"},[e._v(e._s(n[0]))]):e._e()]}}],null,!0)})],1)])]),a("div",{staticClass:"clearfix"}),a("div",{staticClass:"col-sm-12 col-md-6 col-lg-6 col-xl-6 float-left"},[a("div",{staticClass:"form-group"},[a("label",[e._v(" "+e._s(e.$t("Priority"))+":")]),a("Field",{attrs:{name:"priority",rules:{required:!1}}},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.priorityValue,expression:"priorityValue"}],staticClass:"form-control",on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.priorityValue=t.target.multiple?a:a[0]},e.getSelectedValue]}},[a("option",{attrs:{value:""}},[e._v(e._s(e.$t("SelectPriorityLevel"))+" ")]),e._l(e.priority,(function(t,n){return a("option",{key:n,domProps:{value:t.value}},[e._v(" "+e._s(t.name)+" ")])}))],2)])],1)]),a("div",{staticClass:"col-sm-12 col-md-6 col-lg-6 col-xl-6 float-left",class:{"d-none":e.enableReminder}},[a("div",{staticClass:"form-group"},[a("label",[e._v(e._s(e.$t("Default"))+" "+e._s(e.$t("Reminder"))+":")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.DefaultReminder,expression:"DefaultReminder"}],staticClass:"form-control disabled",attrs:{id:"DefaultReminder",name:"DefaultReminder",value:"",maxlength:"200",type:"text"},domProps:{value:e.DefaultReminder},on:{input:function(t){t.target.composing||(e.DefaultReminder=t.target.value)}}})])]),a("div",{staticClass:"clearfix"}),a("div",{staticClass:"col-sm-12 col-md-6 col-lg-6 col-xl-6 float-left"},[a("div",{staticClass:"form-group"},[a("label",[e._v(e._s(e.$t("OverrideDefault"))+" "+e._s(e.$t("Reminder"))+":")]),a("div",{staticClass:"Col-4"},[a("label",{staticClass:"switch"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.enableReminder,expression:"enableReminder"}],staticClass:"form-check-input rdoticketfor custom-control-input dynamic",attrs:{type:"checkbox"},domProps:{value:e.enableReminder,checked:Array.isArray(e.enableReminder)?e._i(e.enableReminder,e.enableReminder)>-1:e.enableReminder},on:{change:function(t){var a=e.enableReminder,n=t.target,i=!!n.checked;if(Array.isArray(a)){var r=e.enableReminder,o=e._i(a,r);n.checked?o<0&&(e.enableReminder=a.concat([r])):o>-1&&(e.enableReminder=a.slice(0,o).concat(a.slice(o+1)))}else e.enableReminder=i}}}),a("span",{staticClass:"slider round"},[a("span",{staticClass:"slider-yes"},[e._v("Yes")]),a("span",{staticClass:"slider-no"},[e._v("NO")])])])])])]),a("div",{staticClass:"clearfix"}),a("div",{staticClass:"col-sm-12 col-md-6 col-lg-6 col-xl-6 float-left"},[a("div",{staticClass:"form-group"},[a("label",{class:{"d-none":!e.enableReminder}},[e._v(e._s(e.$t("Duration"))+":"),a("span",{staticClass:"text-danger"},[e._v("*")])]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedDurationValue,expression:"selectedDurationValue"}],staticClass:"form-control",class:{"d-none":!e.enableReminder},staticStyle:{"max-width":"100%"},attrs:{id:"duration"},on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedDurationValue=t.target.multiple?a:a[0]},e.getValidate]}},[a("option",{attrs:{value:""}},[e._v("Select")]),e._l(e.reminderDurationValues,(function(t,n){return a("option",{key:n,domProps:{value:t,innerHTML:e._s(t)}})}))],2),a("span",{staticClass:"text-danger DurationReq small",class:{"d-none":!e.enableReminder},attrs:{id:"DurationReq"}})])]),a("div",{staticClass:"clearfix"}),a("div",{staticClass:"col-sm-12 col-md-6 col-lg-6 col-xl-6 float-left"},[a("div",{staticClass:"form-group"},[a("label",{class:{"d-none":!e.enableReminder}},[e._v(e._s(e.$t("SelectType"))+":"),a("span",{staticClass:"text-danger"},[e._v("*")])]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedDurationType,expression:"selectedDurationType"}],staticClass:"form-control",class:{"d-none":!e.enableReminder},staticStyle:{"max-width":"100%"},attrs:{id:"durationType"},on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedDurationType=t.target.multiple?a:a[0]},e.getValidate]}},[a("option",{attrs:{value:""}},[e._v("Select")]),e._l(e.reminderDurationTypes,(function(t,n){return a("option",{key:n,domProps:{value:t,innerHTML:e._s(t)}})}))],2),a("span",{staticClass:"text-danger DurationTypeReq small",class:{"d-none":!e.enableReminder}})])]),a("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left"},[a("div",{staticClass:"form-group"},[a("label",[e._v(" "+e._s(e.$t("FollowUpCRM"))+" "+e._s(e.$t("Message"))+":"),a("span",{staticClass:"text-danger"},[e._v("*")])]),a("Field",{attrs:{name:"Message",rules:{required:!0}},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.errors;return[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.Message,expression:"Message"}],class:{"form-control":!0,"is-invalid":n[0]},attrs:{id:"Message",name:"Message",maxlength:1e3,rows:"5"},domProps:{value:e.Message},on:{input:function(t){t.target.composing||(e.Message=t.target.value)}}}),n[0]?a("span",{staticClass:"invalid-feedback",attrs:{name:"Message"}},[e._v(e._s(n[0]))]):e._e()]}}],null,!0)})],1)])]),a("div",{staticClass:"row flex-row-reverse"},[a("div",{staticClass:"col-lg-6 text-right"},[a("button",{staticClass:"btn btn-success save-btn mr-1",attrs:{type:"button"},on:{click:function(t){return e.saveTask(n,i)}}},[a("em",{staticClass:"fa fa-save pr-2",attrs:{"aria-hidden":"true"}}),e._v(e._s(e.$t("Save"))+" ")]),a("button",{staticClass:"btn btn-danger delete-btn",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(t){return e.$emit("close")}}},[a("em",{staticClass:"fa fa-close pr-2",attrs:{"aria-hidden":"true"}}),e._v(e._s(e.$t("Cancel"))+" ")])]),a("div",{staticClass:"col-lg-6"},[a("div",{staticClass:"py-2"},[a("span",{staticClass:"mandatory"},[e._v(" "+e._s(e.$t("MandatoryString"))+" ")])])])])])])]}}])})],1)])])])],1)},i=[],r=a("c7eb"),o=a("1da1"),s=(a("ac1f"),a("5319"),a("d3b7"),a("3ca3"),a("ddb0"),a("9861"),a("841c"),a("e9c4"),a("9769")),l={props:{modulename:{type:String,required:!0},modalFollowUpItem:null,submodulecode:{type:String,required:!0},sourceid:{Type:String,required:!0}},data:function(){return{isLoading:!1,currentDate:new Date,duedate:new Date,Subject:"",priority:[],Message:"",priorityValue:"",activitySourceID:0,modal:null,isView:!1,popover:{visibility:"click"},optionsMindate:{format:"MMM dd yyyy",useCurrent:!1,showClear:!0,showClose:!0,allowInputToggle:!0,minDate:new Date(Date.now())},FollowUpIdForEdit:0,reminderDurationValues:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60"],reminderDurationTypes:["Minutes","Hours","Days"],enableReminder:!1,selectedDurationType:"",selectedDurationValue:"",DefaultReminder:"",header:this.$t("Add")+" "+this.$t("FollowUp")}},created:function(){this.activitySourceID=this.sourceid,this.GetPriority(),this.GetDefaultReminder(),this.FollowUpIdForEdit=0,this.modalFollowUpItem&&this.FetchEventViewData(this.modalFollowUpItem.followup_notification_id),this.optionsMindate.minDate=new Date(Date.now())},methods:{FetchEventViewData:function(e){var t=this;t.FollowUpIdForEdit=0,t.optionsMindate.minDate=!1;var a="id="+e+"&refId="+t.sourceid+"&subModuleCode="+t.modulename+"&moduleCode="+t.submodulecode;s["a"].updateActivityData(a).then((function(a){if(t.FollowUpIdForEdit=e,t.header=t.$t("Edit")+" "+t.$t("FollowUp"),null!=a.data){var n=a.data.data;t.duedate=t.$options.filters.formatDate(n[0].followUpDate),t.Message=n[0].followup_notification_message,t.Subject=n[0].followup_notification_subject,t.priorityValue=null!=n[0].priority_lavel&&0!=n[0].priority_lavel?n[0].priority_lavel:"",t.optionsMindate.minDate=new Date(Date.now());var i=n[0].reminder_duration;0!=i&&i<60?($(".rdoticketfor").trigger("click"),t.selectedDurationType="Minutes",t.selectedDurationValue=i):0!=i&&(60==i||i<1440)?($(".rdoticketfor").trigger("click"),t.selectedDurationType="Hours",t.selectedDurationValue=parseInt(i/60)):0!=i&&i>=1440&&($(".rdoticketfor").trigger("click"),t.selectedDurationType="Days",t.selectedDurationValue=parseInt(i/1440))}}))},GetPriority:function(){var e=this,t="id=&moduleName="+this.submodulecode+"&type=PRIORITY";s["a"].getLeaOwnerBySearch(t).then((function(t){var a=t.data;if(null!=a)return e.priority=a.DATA,e.priority}))},getSelectedValue:function(e){this.priorityValue=e.target.value},formatDate:function(e){if(e)try{var t=Globalize.culture().calendar.patterns.t;t=String(t).replace("t","A").replace("t","");var a=new Date(moment(String(e)).year(),moment(String(e)).month(),moment(String(e)).date(),moment(String(e)).hours(),moment(String(e)).minutes());return moment(a,"YYYY-MM-DD HH:mm:ss").format("MM-dd-yyyy")}catch(n){}},getValidate:function(){var e=$(".rdoticketfor").is(":checked")?"yes":"no",t=$("#duration").val(),a=$("#durationType").val();"yes"!=e||"0"!=t&&""!=t?$(".DurationReq").html(""):$(".DurationReq").html("Duration Is Required."),"yes"==e&&""==a?$(".DurationTypeReq").html("Duration Type Is Required."):$(".DurationTypeReq").html("")},saveTask:function(e,t){var a=this;this.$refs.form.validate().then((function(e){var t=new URLSearchParams(window.location.search),n=t.get("reqfrom");null==n&&(n=window.location.pathname.indexOf("Listing")>-1||window.location.pathname.indexOf("Index")>-1?1:0);var i=parseInt(n)||0,r=$(".rdoticketfor").is(":checked")?"yes":"no",o=$("#duration").val(),l=$("#durationType").val(),c=0,d="";"yes"!=r||"0"!=o&&""!=o?$(".DurationReq").html(""):(d="no",$(".DurationReq").html("Duration Is Required.")),"yes"==r&&""==l?(d="no",$(".DurationTypeReq").html("Duration Type Is Required.")):$(".DurationTypeReq").html("");var u=new Date(a.duedate),p=new Date,f=u-p,m=Math.floor(f/1e3/60);if("yes"==r){if("Minutes"==l?c=o:"Hours"==l?c=60*o:"Days"==l&&(c=24*o*60),m<=c||m<=0)return a.ShowAlert(a.$t("InvalidReminderDuration"),"failure",!0,a.$t("Alert")),!1}else if(c=a.DefaultReminder.value,m<=c||m<=0)return a.ShowAlert(a.$t("InvalidReminderDate"),"failure",!0,a.$t("Alert")),!1;if(r&&0==d.length){var v={sourceId:a.activitySourceID,moduleName:a.modulename,subModuleCode:a.submodulecode,subjecttext:a.Subject,dueDate:a.duedate,priorityLavel:a.priorityValue,messagetext:a.Message,reminderduration:c,activityType:"FollowUp",activityId:a.FollowUpIdForEdit},h=JSON.stringify(v);e&&(a.isLoading=!0,s["a"].Addtask(h).then((function(e){a.isLoading=!1,"Success"==e.data[0].Status?(v.activityId>0?a.ShowAlert(a.$t("UpdatedSuccess",[a.$t("FollowUp")]),"success",!0,a.$t("Alert")):a.ShowAlert(a.$t("AddedSuccess",[a.$t("FollowUp")]),"success",!0,a.$t("Alert")),a.duedate="",a.Subject="",a.priority="",a.Message="",a.showAddTaskModal=!1,a.$emit("close"),i>0?a.$parent.loadFollowUpData(null,a.sourceid):a.$parent.loadData("activities")):"Exist"==e.data[0].Status&&a.ShowAlert(a.$t("AlreadyExist",[a.$t("FollowUp")]),"warning",!0,a.$t("Alert"))}))),a.isLoading=!1}}))},GetDefaultReminder:function(){var e=this;return Object(o["a"])(Object(r["a"])().mark((function t(){var a;return Object(r["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e,a.DefaultReminder="",t.next=4,s["a"].GetConfigurationValueForCompanyByKey("key=ReminderDuration").then((function(e){a.DefaultReminder=e.data}));case 4:parseInt(a.DefaultReminder)>60&&parseInt(a.DefaultReminder)<=1440?a.DefaultReminder=parseInt(a.DefaultReminder/60)+" Hours":parseInt(a.DefaultReminder)>1440?a.DefaultReminder=parseInt(a.DefaultReminder/1440)+" Days":a.DefaultReminder=a.DefaultReminder+" Minutes";case 5:case"end":return t.stop()}}),t)})))()}}},c=l,d=a("2877"),u=Object(d["a"])(c,n,i,!1,null,null,null);t["a"]=u.exports},"841c":function(e,t,a){"use strict";var n=a("c65b"),i=a("d784"),r=a("825a"),o=a("1d80"),s=a("129f"),l=a("577e"),c=a("dc4a"),d=a("14c3");i("search",(function(e,t,a){return[function(t){var a=o(this),i=void 0==t?void 0:c(t,e);return i?n(i,t,a):new RegExp(t)[e](l(a))},function(e){var n=r(this),i=l(e),o=a(t,n,i);if(o.done)return o.value;var c=n.lastIndex;s(c,0)||(n.lastIndex=0);var u=d(n,i);return s(n.lastIndex,c)||(n.lastIndex=c),null===u?-1:u.index}]}))},9861:function(e,t,a){a("5352")},addb:function(e,t,a){var n=a("4dae"),i=Math.floor,r=function(e,t){var a=e.length,l=i(a/2);return a<8?o(e,t):s(e,r(n(e,0,l),t),r(n(e,l),t),t)},o=function(e,t){var a,n,i=e.length,r=1;while(r<i){n=r,a=e[r];while(n&&t(e[n-1],a)>0)e[n]=e[--n];n!==r++&&(e[n]=a)}return e},s=function(e,t,a,n){var i=t.length,r=a.length,o=0,s=0;while(o<i||s<r)e[o+s]=o<i&&s<r?n(t[o],a[s])<=0?t[o++]:a[s++]:o<i?t[o++]:a[s++];return e};e.exports=r},dbb4:function(e,t,a){var n=a("23e7"),i=a("83ab"),r=a("56ef"),o=a("fc6a"),s=a("06cf"),l=a("8418");n({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(e){var t,a,n=o(e),i=s.f,c=r(n),d={},u=0;while(c.length>u)a=i(n,t=c[u++]),void 0!==a&&l(d,t,a);return d}})},e29d:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("transition",{attrs:{name:"modal"}},[a("div",{staticClass:"my-popups"},[a("div",{staticClass:"modal d-block"},[a("div",{staticClass:"modal-dialog modal-dialog-centered"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title"},[e._v(" "+e._s(e.$t("FollowUp")))]),a("button",{staticClass:"close",attrs:{type:"button"},on:{click:function(t){return e.closePopup()}}},[a("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),a("div",{staticClass:"modal-body",staticStyle:{"max-height":"600px","overflow-y":"auto"}},[a("div",{staticClass:"listing"},[e.followupList.length>0?a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table table-bordered dt-responsive nowrap mt-0",attrs:{id:"table-openactivities-content","aria-describedby":"folowuplist"}},[a("thead",{staticClass:"thead-bg"},[a("tr",[a("th",{attrs:{scope:"col"}},[a("span",[e._v(" "+e._s(e.$t("Subject"))+" ")])]),a("th",{attrs:{scope:"col"}},[a("span",[e._v(" "+e._s(e.$t("Activity"))+" "+e._s(e.$t("Type"))+" ")])]),a("th",{attrs:{scope:"col"}},[a("span",[e._v(" "+e._s(e.$t("Activity"))+" "+e._s(e.$t("ScheduleDate"))+" ")])]),a("th",{attrs:{scope:"col"}},[a("span",[e._v(" "+e._s(e.$t("Activity"))+" "+e._s(e.$t("OWNER"))+" ")])]),a("th",{attrs:{scope:"col"}},[a("span",[e._v(" "+e._s(e.$t("CreatedAt"))+" ")])]),a("th",{attrs:{scope:"col"}},[a("span",[e._v(" "+e._s(e.$t("Status"))+" ")])]),a("th",{staticClass:"text-center",attrs:{scope:"col"}},[a("span",[e._v(" "+e._s(e.$t("Action"))+" ")])])])]),a("tbody",e._l(e.followupList,(function(t){return a("tr",[a("td",[a("a",{attrs:{href:"javascript:;"},on:{click:function(a){return e.openToAddEditFollowUp(t)}}},[e._v(e._s(t.followup_notification_subject))])]),a("td",["FollowUp"===t.activity_type?a("div",[a("label",[e._v(" "+e._s(e.$t("FollowUp"))+" ")])]):a("div",[e._v(" "+e._s(t.activity_type)+" ")])]),a("td",[e._v(e._s(e.$options.filters.formatDate(t.followup_notification_schedule)))]),a("td",[e._v(e._s(t.activity_owner))]),a("td",[e._v(e._s(e.$options.filters.formatDate(t.created_at)))]),a("td",[a("span",{class:{"px-2 bg-success text-white d-block text-center":"Active"==t.status_name,"px-2 bg-danger text-white d-block text-center":"Inactive"==t.status_name}},[e._v(e._s(t.status_name))])]),a("td",{staticClass:"text-center single-action"},[a("a",{attrs:{href:"javascript:;",title:e.$t("Delete")},on:{click:function(a){return e.DeleteActivityData(t.followup_notification_id)}}},[a("em",{staticClass:"fa fa-trash action-icon text-danger"})])])])})),0)])]):e._e(),0==e.followupList.length?a("div",{staticClass:"text-center text-danger p-4 border no-record"},[e._v(" "+e._s(e.$t("NoRecordfound")))]):e._e()])]),a("div",{staticClass:"modal-footer"},[a("div",{staticClass:"col-lg-6 text-right p-0"},[a("a",{staticClass:"btn btn-success formbtn text-white",attrs:{href:"javascript:;"},on:{click:function(t){return e.openToAddEditFollowUp(null)}}},[a("em",{staticClass:"fa fa-plus pr-2"}),e._v(e._s(e.$t("Add"))+" "+e._s(e.$t("FollowUp")))])])])])])]),e.showAddEventModalForAddEdit?a("modalevent",{ref:"addEditFollowupModal",attrs:{modulename:e.modulename,submodulecode:e.submodulecode,sourceid:e.sourceId},on:{close:function(t){e.showAddEventModalForAddEdit=!1}}}):e._e()],1)])},i=[],r=(a("a9e3"),a("4de4"),a("d3b7"),a("e9c4"),a("6c06")),o=a("9769"),s={components:{modalevent:r["a"]},props:{modulename:{type:String,required:!0},submodulecode:{type:String,required:!0},userid:{type:Number,required:!0},leadInfo:{Type:Object,required:!0},srcId:{Type:String,required:!0}},data:function(){return{followupList:[],showAddEventModalForAddEdit:!1,sourceId:null,listItem:null}},created:function(){this.sourceId=this.srcId,this.loadFollowUpData(this.leadInfo,this.srcId)},methods:{formatDateTimeFunc:function(e){if(e)return moment(String(e),"YYYY-MM-DD HH:mm").format("MM/dd/yyyy")},loadFollowUpData:function(e,t){if("undefined"!=typeof t&&null!=t&&""!=t){var a=this;a.listItem=e,a.sourceId=t,a.followupList=[];var n="id="+t+"&subModuleCode="+a.submodulecode+"&moduleName="+a.modulename;o["a"].getFollowupList(n).then((function(e){""!=e.data&&null!=e.data&&e.data.data.length>0?(a.followupList=e.data.data.filter((function(e){return"FollowUp"==e.activity_type})),setTimeout((function(){a.CheckBoxBootstrap()}),100),setTimeout((function(){a.ResponsiveDataTable("table-openactivities-content")}),500)):a.followupList=[]}))}},DeleteActivityData:function(e){var t=this;e>0&&t.confirmR(this.$t("ConfirmDelete"),!0,this.$t("Confirm"),(function(){var a={ids:e,moduleName:t.modulename,subModuleCode:t.submodulecode,refCode:"DELETE_VIEW_ACTIVITY",refId:t.sourceId},n=JSON.stringify(a);o["a"].deleteActivityData(n).then((function(e){"Success"==e.data[0].Status?(t.ShowAlert(t.$t("DeletedSuccess",[t.$t("FollowUp")]),"success",!0,t.$t("Alert")),t.loadFollowUpData(null,t.sourceId)):t.ShowAlert(t.$t("DeletedError",[t.$t("FollowUp")]),"warning",!0,t.$t("Alert"))}))}))},closePopup:function(){this.$emit("close")},openToAddEditFollowUp:function(e){var t=this;if(null!=t.listItem&&"NO"!=t.listItem.is_additional_lead_owner&&"CRM_LEADS"==t.submodulecode){var a=JSON.parse(t.listItem.is_additional_lead_owner),n=a.filter((function(e){return"AddAcitvities"==e.permission_code}));n.length>0?(t.showAddEventModalForAddEdit=!0,null!=e&&setTimeout((function(){t.$refs.addEditFollowupModal.FetchEventViewData(e.followup_notification_id)}),500)):alert(t.$t("additionalOwnerAuthorityWarning"))}else t.showAddEventModalForAddEdit=!0,console.log(t.sourceId),null!=e&&setTimeout((function(){t.$refs.addEditFollowupModal.FetchEventViewData(e.followup_notification_id)}),500)}}},l=s,c=a("2877"),d=Object(c["a"])(l,n,i,!1,null,null,null);t["a"]=d.exports},e439:function(e,t,a){var n=a("23e7"),i=a("d039"),r=a("fc6a"),o=a("06cf").f,s=a("83ab"),l=i((function(){o(1)})),c=!s||l;n({target:"Object",stat:!0,forced:c,sham:!s},{getOwnPropertyDescriptor:function(e,t){return o(r(e),t)}})}}]);
//# sourceMappingURL=CRM Invoice~CRMCampaign~CRMDeal~CRMLead~CRMPurchaseOrder~CRMQuote~CRMSalesOrderListing~CRMStage~CRMV~67f3ae41.js.map