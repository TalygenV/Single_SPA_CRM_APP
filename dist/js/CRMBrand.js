(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["CRMBrand"],{"083a":function(t,e,a){"use strict";var i=a("0d51"),r=TypeError;t.exports=function(t,e){if(!delete t[e])throw r("Cannot delete property "+i(e)+" of "+i(t))}},3511:function(t,e){var a=TypeError,i=9007199254740991;t.exports=function(t){if(t>i)throw a("Maximum allowed index exceeded");return t}},5530:function(t,e,a){"use strict";a.d(e,"a",(function(){return s}));a("b64b"),a("a4d3"),a("4de4"),a("d3b7"),a("e439"),a("159b"),a("dbb4");var i=a("ade3");function r(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function s(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?r(Object(a),!0).forEach((function(e){Object(i["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}},"5a92":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("loader",{attrs:{"is-visible":t.isLoading}}),a("TgList",{attrs:{IsShowAction:"false",ModuleName:"CRM",SubModuleCode:"CRM_BRANDS",IdentityColumn:"brand_id",HeaderText:t.$t("Brand"),ListData:t.BrandData,HeaderData:t.Headers,RenderRowActionMethod:t.renderActions,HeaderButtons:t.listheaderbuttons,TotalRecords:t.TotalRecords,SearchFields:t.leftSearchFields,ListDataCallBackFunction:t.FetchData,IsFilterApplied:!!t.searchCondition,SortExp:t.SortExp,SortBy:t.SortBy,CurrentPageNumber:t.PageNumber},on:{LeftsearchButtonClick:t.leftCommonSearch,PagerButtonClick:t.pagerMethod,HeaderButtonClick:t.commonHeaderButtonClick,SortdataButtonClick:t.sortdata},scopedSlots:t._u([{key:"slotdata",fn:function(e){var i=e.data;return["Thumbnail"==i.column.COLUMN_NAME?[a("td",[a("img",{attrs:{src:"/Content/images/imagenotavailable.jpg",width:"100",height:"50",alt:"Image"}})])]:t._e(),"Social"==i.column.COLUMN_NAME?[a("div",{staticClass:"text-center SocialMedia_c"},[a("RouterLink",{staticClass:"btn btn-success text-white",attrs:{to:"/Brand/SocialConnect"}},[t._v(t._s(t.$t("Connect")))])],1)]:t._e()]}}])}),t.showAddEditModal?a("modaladdbrand",{attrs:{submodulecode:"CRM_BRANDS",modulename:"CRM",modalAddEditItem:t.modalAddEditItem},on:{close:t.ClosePopUp}},[a("h5",{attrs:{slot:"header"},slot:"header"},[t._v(t._s(t.$t("Brand")))])]):t._e()],1)},r=[],s=a("5530"),n=(a("d3b7"),a("159b"),a("e9c4"),[{title:"Page Tour",iconClass:"fa fa-road",callbackfunction:"setTourGuideSteps",additionalClass:"",isdisabled:!1,isvisible:!0,checkPrivilege:!1},{title:"Add Brand",iconClass:"fa-plus SocialMedia_a",additionalClass:"",isdisabled:!1,isvisible:!0,checkPrivilege:!0,callbackfunction:"openPopUp"},{id:"DeleteMultiple",title:"Delete",iconClass:"fa-trash-o",callbackfunction:"commonDeleteData",isdisabled:!0,isvisible:!0}]),o=[{fieldName:"Brand Name",fieldType:"text",fieldIcon:"fa fa-search",isSearch:!1,fieldSearchConditionName:["BRAND_NAME"],isvisible:!0,isdisabled:!1,value:""}],d={buttons:n,leftSearchFields:o},c=a("9769"),l=a("2aeb"),u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"modal"}},[a("div",{staticClass:"my-popups"},[a("div",{staticClass:"modal d-block dialog"},[a("div",{staticClass:"modal-dialog modal-dialog-centered"},[a("div",{staticClass:"modal-content SocialMedia_b"},[a("div",{staticClass:"modal-header"},[t._t("headerForModal",(function(){return["Edit"===t.AddEditText?a("h5",{staticClass:"modal-title"},[t._v(t._s(t.$t("EditBrand")))]):a("h5",{staticClass:"modal-title"},[t._v(t._s(t.$t("AddBrand")))])]})),a("button",{staticClass:"close",attrs:{type:"button",title:"","data-original-title":"Close"},on:{click:function(e){return t.$emit("close")}}},[a("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])],2),a("div",{staticClass:"modal-body"},[a("Form",{ref:"form",scopedSlots:t._u([{key:"default",fn:function(e){var i=e.valid,r=e.errors;return[a("div",{staticClass:"col-md-12 p-0"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12 col-md-6 col-lg-6 col-xl-6 float-left"},[a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.$t("BrandName"))+":"),a("span",{staticClass:"text-danger"},[t._v("*")])]),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.txtBrandId,expression:"txtBrandId",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"hidden",id:"txtBrandId",name:"txtBrandId"},domProps:{value:t.txtBrandId},on:{input:function(e){e.target.composing||(t.txtBrandId=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),a("Field",{attrs:{name:"Brand Name",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.errors;return[a("input",{directives:[{name:"model",rawName:"v-model",value:t.txtAddBrand,expression:"txtAddBrand"}],class:{"form-control":!0,"is-invalid":i[0]},attrs:{type:"text",maxlength:"200"},domProps:{value:t.txtAddBrand},on:{input:function(e){e.target.composing||(t.txtAddBrand=e.target.value)}}}),a("span",{staticClass:"invalid-feedback",attrs:{name:"Brand Name"}},[t._v(t._s(i[0]))])]}}],null,!0)})],1)]),a("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left"},[a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.$t("Description"))+":")]),a("Field",{attrs:{name:"txtDescription",rules:{required:!1},label:"Description"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.errors;e.touched,e.invalid;return[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.txtDescription,expression:"txtDescription"}],staticClass:"form-control",attrs:{id:"txtDescription",maxlength:"1000"},domProps:{value:t.txtDescription},on:{input:function(e){e.target.composing||(t.txtDescription=e.target.value)}}}),t._v(" "),a("span",{staticClass:"invalid-feedback",attrs:{name:"txtDescription"}},[t._v(t._s(i[0]))])]}}],null,!0)})],1)])]),a("div",{staticClass:"row flex-row-reverse"},[a("div",{staticClass:"col-lg-6 text-right"},["Edit"===t.AddEditText?a("a",{staticClass:"btn btn-success mr-1",attrs:{href:"javascript:;",title:t.$t("Update")},on:{click:function(e){return t.SubmitBrand(i,r)}}},[a("em",{staticClass:"fa fa-send pr-2"}),t._v(t._s(t.$t("Update")))]):t._e(),"Edit"!=t.AddEditText?a("a",{staticClass:"btn btn-success mr-1",attrs:{href:"javascript:;",title:t.$t("Save")},on:{click:function(e){return t.SubmitBrand(i,r)}}},[a("em",{staticClass:"fa fa-save pr-2"}),t._v(t._s(t.$t("Save")))]):t._e(),a("a",{staticClass:"btn btn-danger",attrs:{href:"javascript:;",title:t.$t("Close")},on:{click:function(e){return t.$emit("close")}}},[a("em",{staticClass:"fa fa-close pr-2"}),t._v(t._s(t.$t("Close")))])]),a("div",{staticClass:"col-lg-6"},[a("div",{staticClass:"py-2"},[a("div",{staticClass:"py-2"},[a("small",[a("span",{staticClass:"text-danger"},[t._v(" Fields marked with an asterisk (*) are mandatory.")])])])])])])])]}}])})],1)])])])])])},m=[],f={props:{modalAddEditItem:null},data:function(){return{txtAddBrand:"",txtDescription:"",AddEditText:"",txtBrandId:0,modal:null}},created:function(){this.modal=this.modalAddEditItem,null!=this.modal&&this.FetchAddEditBrandData(this.modal.brand_id)},methods:{FetchAddEditBrandData:function(t){var e=this;this.AddEditText="Edit",c["a"].FetchAddEditBrandData(t).then((function(t){if(null!=t.data.data){e.txtBrandId=t.data.data[0].brand_id,e.txtAddBrand=t.data.data[0].brand_name,e.txtDescription=t.data.data[0].brand_description;var a={};a["txtAddBrand"]=e.txtAddBrand,a["txtDescription"]=e.txtDescription,e.$refs.form.resetForm({values:a})}}))},SubmitBrand:function(t,e){var a=this,i=this;i.$refs.form.validate().then((function(t){if(i.vSelectValidate=!0,t){var e={brand_id:a.txtBrandId,brandname:a.txtAddBrand,branddescription:a.txtDescription,STATUS_ID:1001},r={data:e},s=JSON.stringify(r);c["a"].SaveBrand(s).then((function(t){"Success"==t.data[0].Status?(i.$emit("close"),"Edit"==i.AddEditText?i.ShowAlert(i.$t("UpdatedSuccess",[i.$t("Brand")]),"Success",!0,i.$t("Alert")):i.ShowAlert(i.$t("AddedSuccess",[i.$t("Brand")]),"Success",!0,i.$t("Alert"))):(i.$emit("close"),i.ShowAlert(i.$t("Error",[i.$t("Brand")]),"Warning",!0,i.$t("Alert")))}))}}))}}},h=f,p=a("2877"),b=Object(p["a"])(h,u,m,!1,null,null,null),v=b.exports,g={components:{modaladdbrand:v,TgList:l["a"]},data:function(){return{leftSearchFields:d.leftSearchFields,listheaderbuttons:d.buttons,modalAddEditItem:null,userid:null,usertype:null,PageNumber:1,PageSize:10,SortBy:"",SortExp:"",noRecord:!1,TotalRecords:0,searchCondition:"",isLoading:!1,srchcondition:"",BrandData:null,showAddEditModal:!1,fieldInfo:[],Headers:[{COLUMN_NAME:"Thumbnail",DATA_TYPE:"",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"Thumbnail",DISPLAY_ORDER:1},{COLUMN_NAME:"brand_name",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"brand_name",DISPLAY_ORDER:2},{COLUMN_NAME:"brand_description",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"brand_description",DISPLAY_ORDER:3},{COLUMN_NAME:"created_at",DATA_TYPE:"date",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"Created at",DISPLAY_ORDER:4},{COLUMN_NAME:"Name",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"Created by",DISPLAY_ORDER:5},{COLUMN_NAME:"Social",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"Social",DISPLAY_ORDER:6}]}},created:function(){this.userid=this.GetUserInfo.ID,this.usertype=this.GetUserInfo.UserType;var t=this;t.FetchData()},methods:{clickEventOfColumn:function(t,e){"brand_name"==e.COLUMN_NAME&&(this.showAddEditModal=!0,this.modalAddEditItem=t)},renderActions:function(t){var e=this,a=[];return e.listActions.forEach((function(e){var i=Object.assign(e);switch(e.title){case"View":i.isVisible="Draft"!=t.status_id;break;case"Edit":i.isVisible=t.ref_source_id<=0&&"Closed"!=t.status_id;break;case"FollowUps":i.isVisible="Closed"!=t.status_id;break;case"ConvertSalesOrder":i.isVisible="Draft"!=t.status_id&&t.ref_source_id<=0&&"Closed"!=t.status_id;break}a.push(Object(s["a"])({},i))})),a},leftCommonSearch:function(t){this.PageNumber=t.PageNumber,"undefined"!=typeof t.searchCondition?this.searchCondition=t.searchCondition:this.searchCondition="",this.FetchData()},openPopUp:function(){this.showAddEditModal=!0},ClosePopUp:function(){this.showAddEditModal=!1,this.modalAddEditItem=null,this.FetchData()},commonHeaderButtonClick:function(t){switch(t.callbackfunction){case"commonDeleteData":this.commonDeleteData();break;case"openPopUp":this.openPopUp();break;case"setTourGuideSteps":this.setTourGuideSteps(0,this);break}},commonDeleteData:function(t){var e=this,a="";$(".chkItems:checkbox:checked").not("[id^='chkAll']").each((function(){a.length>0&&(a+=","),a+=$(this).val()})),a.length>0?e.confirmR(e.$t("ConfirmDelete"),!0,e.$t("Delete")+"  "+e.$t("Brand"),(function(){var t={ids:a,moduleName:"CRM",subModuleCode:"CRM_BRANDS"},i=JSON.stringify(t);c["a"].CommonDeleteData(i).then((function(t){var a="";200==t.status?($(".chkItems:checkbox:checked").prop("checked",!1).removeAttr("checked"),$("#DeleteMultiple").addClass("disabled"),a=e.ShowAlert(e.$t("DeletedSuccessfully",[e.$t("Brand")]),"success",!0,e.$t("Alert")),e.PageNumber=parseInt(e.PageNumber)-1,e.PageNumber<0&&(e.PageNumber=1),e.FetchData()):a=e.ShowAlert(e.$t("DeletedError",[e.$t("Brand")]),"failure",!0,e.$t("Alert")),setTimeout((function(){a.modal("hide")}),2e3)}))})):alert(e.$t("Selectanyrecordtodelete"))},sortdata:function(t){var e="sort tb_headerSortDown";this.SortBy=t,t===this.SortBy&&(""==this.SortExp?(this.SortExp="ASC",e="sort tb_headerSortDown"):"ASC"==this.SortExp?(this.SortExp="DESC",e="sort tb_headerSortUp"):(this.SortExp="ASC",e="sort tb_headerSortDown")),this.FetchData(),$("#"+t+"  span:first-child").attr("class",e)},pagerMethod:function(t){this.PageSize=t.PageSize,this.PageNumber=t.PageNumber,this.FetchData()},getRequestParams:function(t,e,a,i,r,s){var n={};return t&&(n["pageNum"]=t),s&&(n["brandname"]=s),r&&(n["isPaged"]=r),a&&(n["sortBy"]=a),i&&(n["sortExp"]=i),e&&(n["pageSize"]=e),n},FetchData:function(){var t=this.getRequestParams(this.pageNumber,this.pageSize,this.sortBy,this.sortExp,this.isPaged,this.brandname),e=this;e.isLoading=!0,t.pageSize=e.PageSize,t.pageNumber=e.PageNumber,t.brandname=e.leftSearchFields[0].value,e.PageNumber?t.pageNum=e.PageNumber:e.PageNumber=t.pageNum=1,"undefined"!=typeof e.isPaged?t.isPaged=e.isPaged:e.isPaged=t.isPaged=1,t.isPaged=e.isPaged,t.sortBy=e.SortBy,t.sortExp=e.SortExp,c["a"].BrandListing(t).then((function(t){e.isLoading=!1,e.Headers.forEach((function(t){t.settings=null,"brand_name"==t.COLUMN_NAME&&(t.settings={clickEvent:e.clickEventOfColumn,formatter:e.columnDataFormatter}),"Social"==t.COLUMN_NAME&&(t.settings={isInSlot:!0}),"Thumbnail"==t.COLUMN_NAME&&(t.settings={isInSlot:!0})})),null!=t.data&&""!=t.data?(e.BrandData=t.data.data,e.TotalRecords=t.data.data[0].totalrecords,e.TotalPages=Math.ceil(e.TotalRecords/e.PageSize),e.CurrentPage=e.PageNumber,$("[id^='chkAll']").prop("checked",!1).removeAttr("checked"),$(".chkItems:checkbox:checked").prop("checked",!1).removeAttr("checked"),e.noRecord=!1):(e.noRecord=!0,e.BrandData=[],e.TotalRecords=0),setTimeout((function(){e.ResponsiveDataTable("tablelistingdata")}),500),e.isLoading=!1}))}}},S=g,A=Object(p["a"])(S,i,r,!1,null,null,null);e["default"]=A.exports},"99af":function(t,e,a){"use strict";var i=a("23e7"),r=a("d039"),s=a("e8b5"),n=a("861d"),o=a("7b0b"),d=a("07fa"),c=a("3511"),l=a("8418"),u=a("65f0"),m=a("1dde"),f=a("b622"),h=a("2d00"),p=f("isConcatSpreadable"),b=h>=51||!r((function(){var t=[];return t[p]=!1,t.concat()[0]!==t})),v=m("concat"),g=function(t){if(!n(t))return!1;var e=t[p];return void 0!==e?!!e:s(t)},S=!b||!v;i({target:"Array",proto:!0,arity:1,forced:S},{concat:function(t){var e,a,i,r,s,n=o(this),m=u(n,0),f=0;for(e=-1,i=arguments.length;e<i;e++)if(s=-1===e?n:arguments[e],g(s))for(r=d(s),c(f+r),a=0;a<r;a++,f++)a in s&&l(m,f,s[a]);else c(f+1),l(m,f++,s);return m.length=f,m}})},a434:function(t,e,a){"use strict";var i=a("23e7"),r=a("7b0b"),s=a("23cb"),n=a("5926"),o=a("07fa"),d=a("3511"),c=a("65f0"),l=a("8418"),u=a("083a"),m=a("1dde"),f=m("splice"),h=Math.max,p=Math.min;i({target:"Array",proto:!0,forced:!f},{splice:function(t,e){var a,i,m,f,b,v,g=r(this),S=o(g),A=s(t,S),C=arguments.length;for(0===C?a=i=0:1===C?(a=0,i=S-A):(a=C-2,i=p(h(n(e),0),S-A)),d(S+a-i),m=c(g,i),f=0;f<i;f++)b=A+f,b in g&&l(m,f,g[b]);if(m.length=i,a<i){for(f=A;f<S-i;f++)b=f+i,v=f+a,b in g?g[v]=g[b]:u(g,v);for(f=S;f>S-i+a;f--)u(g,f-1)}else if(a>i)for(f=S-i;f>A;f--)b=f+i-1,v=f+a-1,b in g?g[v]=g[b]:u(g,v);for(f=0;f<a;f++)g[f+A]=arguments[f+2];return g.length=S-i+a,m}})},dbb4:function(t,e,a){var i=a("23e7"),r=a("83ab"),s=a("56ef"),n=a("fc6a"),o=a("06cf"),d=a("8418");i({target:"Object",stat:!0,sham:!r},{getOwnPropertyDescriptors:function(t){var e,a,i=n(t),r=o.f,c=s(i),l={},u=0;while(c.length>u)a=r(i,e=c[u++]),void 0!==a&&d(l,e,a);return l}})},e439:function(t,e,a){var i=a("23e7"),r=a("d039"),s=a("fc6a"),n=a("06cf").f,o=a("83ab"),d=r((function(){n(1)})),c=!o||d;i({target:"Object",stat:!0,forced:c,sham:!o},{getOwnPropertyDescriptor:function(t,e){return n(s(t),e)}})}}]);
//# sourceMappingURL=CRMBrand.js.map